<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>All Events - Event Organizer</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>

  <!-- 🔒 Logout + 🌙 Dark Mode Toggle -->
  <nav class="top-bar">
    <a href="/logout" class="logout-button">🚪 Logout</a>
    <button id="darkModeToggle" class="dark-toggle">🌙 Dark Mode</button>
  </nav>

  <!-- 🎯 Hero Banner -->
  <section class="hero">
    <img src="/hero.jpg" alt="Event Banner">
    <div class="hero-text">
      <h1>🎯 Plan, Promote & Party!</h1>
      <p>Your personal event organizer — Add, View & Manage all your events easily!</p>
      <a href="/add-event"><button>➕ Create Event</button></a>
      <!-- 📁 My Events button -->
    </div>
  </section>

  <!-- 💬 Flash Message -->
  <div id="toast-container">
    {{flashMessage}}
  </div>

  <hr>

  <!-- 🔍 Search Form + Category Filter -->
  <form action="/search" method="GET" class="search-bar">
    <input type="text" name="query" placeholder="🔍 Search by title or category" required>

    <!-- 🧩 Category Filter -->
    <select name="category" class="category-dropdown">
      <option value="">🎯 All Categories</option>
      <option value="Workshop">Workshop</option>
      <option value="Seminar">Seminar</option>
      <option value="Tech">Tech</option>
      <option value="Cultural">Cultural</option>
      <option value="Sports">Sports</option>
      <option value="Fest">Fest</option>
    </select>

    <button type="submit">Search</button>
  </form>

  <!-- 📅 Event List -->
  <h1>📅 Upcoming Events</h1>
  <ul>
    {{eventList}}
  </ul>

  <!-- 🌙 Dark Mode Script -->
  <script>
    const toggleBtn = document.getElementById('darkModeToggle');
    toggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      toggleBtn.textContent =
        document.body.classList.contains('dark-mode') ? '☀️ Light Mode' : '🌙 Dark Mode';
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    });

    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      toggleBtn.textContent = '☀️ Light Mode';
    }
  </script>

</body>
</html>
